# ===========================
# AWS Configuration
# ===========================
aws_region        = "us-east-1"
availability_zone = "us-east-1a"

# ===========================
# Project Configuration
# ===========================
project_name = "velure"
environment  = "production"

# ===========================
# VPC Configuration
# ===========================
vpc_cidr           = "10.0.0.0/16"
public_subnet_cidr = "10.0.1.0/24"
private_subnet_cidr = "10.0.10.0/24"

# Para criar uma segunda subnet privada na mesma AZ (requisito RDS)
# Voc√™ pode adicionar mais subnets se quiser expandir futuramente
private_subnet_secondary_cidr = "10.0.11.0/24"

# ===========================
# EKS Configuration
# ===========================
eks_cluster_version = "1.28"

# Node Group Configuration
# ATEN√á√ÉO: t3.small √© o M√çNIMO para EKS, t3.micro n√£o √© suportado
node_instance_type = "t3.small"
node_disk_size     = 20

# Scaling
node_min_size     = 1
node_desired_size = 2
node_max_size     = 2

# Para economizar ainda mais, considere Spot Instances:
# node_capacity_type = "SPOT"  # Economiza ~70%, mas pode ser interrompido

# ===========================
# RDS Configuration (Comum para Auth e Orders)
# ===========================
rds_instance_class    = "db.t4g.micro"  # Free Tier
rds_allocated_storage = 20              # Free Tier: 20GB
rds_engine_version    = "16.3"          # PostgreSQL 16.3

# ===========================
# RDS Auth Service
# ===========================
rds_auth_db_name   = "velure_auth"
rds_auth_username  = "postgres"

# üîê IMPORTANTE: Altere esta senha!
# Use um gerenciador de senhas para gerar uma senha forte
# Exemplo: openssl rand -base64 32
rds_auth_password = "CHANGE_ME_AUTH_PASSWORD_HERE"

# ===========================
# RDS Orders Service
# (Compartilhado entre publish-order e process-order)
# ===========================
rds_orders_db_name   = "velure_orders"
rds_orders_username  = "postgres"

# üîê IMPORTANTE: Altere esta senha!
rds_orders_password = "CHANGE_ME_ORDERS_PASSWORD_HERE"

# ===========================
# Tags Comuns
# ===========================
# Todas as tags ser√£o aplicadas a todos os recursos
# √ötil para cost tracking e organiza√ß√£o
tags = {
  Project     = "velure"
  Environment = "production"
  ManagedBy   = "terraform"
  Owner       = "seu-nome-aqui"
  CostCenter  = "personal-project"
}

# ===========================
# Observa√ß√µes Importantes
# ===========================
#
# 1. CUSTOS:
#    - EKS Cluster: $72/m√™s
#    - 2x t3.small: ~$30/m√™s
#    - 1x NAT Gateway: ~$32/m√™s + data transfer
#    - RDS Free Tier: $0 (primeiro ano, 750h/m√™s)
#    - Total: ~$140-150/m√™s
#
# 2. FREE TIER RDS:
#    - db.t4g.micro: 750h/m√™s (suficiente para 1 inst√¢ncia 24/7)
#    - 20GB storage
#    - Se voc√™ tiver 2 inst√¢ncias, apenas uma estar√° no Free Tier
#
# 3. SINGLE AZ:
#    - Esta configura√ß√£o usa apenas 1 Availability Zone
#    - N√£o √© recomendado para produ√ß√£o real
#    - Economiza ~$64/m√™s em NAT Gateways
#
# 4. SEGURAN√áA:
#    - Nunca commite este arquivo com senhas reais
#    - Use um gerenciador de senhas
#    - Considere AWS Secrets Manager + External Secrets Operator
#
# 5. MONGODB:
#    - Voc√™ j√° tem MongoDB no Atlas
#    - N√£o inclu√≠mos DocumentDB para economizar custos
#
# 6. REDIS & RABBITMQ:
#    - Ser√£o deployados IN-CLUSTER via Helm
#    - N√£o usamos ElastiCache ou Amazon MQ para economizar
