# =============================================================================
# Velure Microservices - Local Development Environment Variables (EXAMPLE)
# =============================================================================
# Copy this file to .env and update the values according to your environment
# cp .env.example .env
# =============================================================================

# -----------------------------------------------------------------------------
# General Configuration
# -----------------------------------------------------------------------------
ENVIRONMENT=development

# -----------------------------------------------------------------------------
# PostgreSQL Database (Auth Service + Publish Order Service)
# -----------------------------------------------------------------------------
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DATABASE_NAME=velure_db
POSTGRES_USER=velure_user
POSTGRES_PASSWORD=velure_password
POSTGRES_URL=postgresql://velure_user:velure_password@postgres:5432/velure_db?sslmode=disable

# -----------------------------------------------------------------------------
# Auth Service
# -----------------------------------------------------------------------------
AUTH_SERVICE_HOST=auth-service
AUTH_SERVICE_APP_PORT=3020

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=1h
JWT_REFRESH_TOKEN_SECRET=your-super-secret-refresh-token-change-in-production
JWT_REFRESH_TOKEN_EXPIRES_IN=7d

# Session Configuration
SESSION_SECRET=your-session-secret-change-in-production
SESSION_EXPIRES_IN=86400000

# -----------------------------------------------------------------------------
# RabbitMQ Message Broker
# -----------------------------------------------------------------------------
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672

# RabbitMQ Users
PUBLISHER_RABBITMQ_USER=publisher-order
PUBLISHER_RABBITMQ_PASSWORD=publisher_password
PROCESS_RABBITMQ_USER=process-payment
PROCESS_RABBITMQ_PASSWORD=process_password
ADMIN_RABBITMQ_USER=admin
ADMIN_RABBITMQ_PASSWORD=admin_password

# RabbitMQ URLs
PUBLISHER_RABBITMQ_URL=amqp://publisher-order:publisher_password@rabbitmq:5672/
PROCESS_RABBITMQ_URL=amqp://process-payment:process_password@rabbitmq:5672/

# RabbitMQ Exchanges and Queues
ORDER_EXCHANGE=orders
PUBLISHER_ORDER_QUEUE=publish-order-status-updates
RABBITMQ_ORDER_QUEUE=process-order-queue

# -----------------------------------------------------------------------------
# Publish Order Service
# -----------------------------------------------------------------------------
PUBLISH_ORDER_SERVICE_HOST=publish-order-service
PUBLISHER_ORDER_SERVICE_APP_PORT=8080
PUBLISHER_CONSUMER_WORKERS=3

# -----------------------------------------------------------------------------
# Process Order Service
# -----------------------------------------------------------------------------
PROCESS_ORDER_SERVICE_HOST=process-order-service
PROCESS_ORDER_SERVICE_APP_PORT=8081

# Retry and DLQ Configuration
MAX_RETRY_COUNT=3
DLQ_NAME=process-order-queue.dlq
DLX_NAME=orders.dlx

# -----------------------------------------------------------------------------
# MongoDB Database (Product Service)
# -----------------------------------------------------------------------------
MONGODB_HOST=mongodb
MONGODB_PORT=27017
MONGODB_DBNAME=product_service
MONGODB_ROOT_USER=velure_user
MONGODB_ROOT_PASSWORD=velure_password
MONGODB_URI=mongodb://velure_user:velure_password@mongodb:27017/product_service

# -----------------------------------------------------------------------------
# Redis Cache (Product Service)
# -----------------------------------------------------------------------------
REDIS_CONTAINER_NAME=redis
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_URL=redis:6379

# -----------------------------------------------------------------------------
# Product Service
# -----------------------------------------------------------------------------
PRODUCT_SERVICE_HOST=product-service
PRODUCT_SERVICE_APP_PORT=3010
PRODUCT_SERVICE_URL=http://product-service:3010

# -----------------------------------------------------------------------------
# UI Service
# -----------------------------------------------------------------------------
UI_SERVICE_HOST=ui-service
UI_SERVICE_PORT=8080

# Vite Build Args (configured via API routes through Caddy)
VITE_PRODUCT_SERVICE_URL=/api/product
VITE_AUTHENTICATION_SERVICE_URL=/api/auth
VITE_ORDER_SERVICE_URL=/api/order
